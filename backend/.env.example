# =============================================================================
# CRYPTOPAY BACKEND CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# ⚠️ NEVER commit .env to git!

# =============================================================================
# REQUIRED FOR MVP/TESTING
# =============================================================================

# Server Configuration
PORT=3000
NODE_ENV=development

# Mock Cards (Use mock cards for testing, set to false for production)
USE_MOCK_CARDS=true

# Blockchain Configuration - REQUIRED
RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
# For Polygon (cheaper gas): https://polygon-mainnet.g.alchemy.com/v2/YOUR_KEY
# For testing: http://127.0.0.1:8545

# Hot Wallet - REQUIRED (for gas fees and receiving released funds)
HOT_WALLET_ADDRESS=0xYourHotWalletAddress
HOT_WALLET_PRIVATE_KEY=0xYourPrivateKey

# Smart Contract Addresses - REQUIRED (from deployment)
ESCROW_CONTRACT_ADDRESS=0xYourEscrowContractAddress
PYUSD_TOKEN_ADDRESS=0x6c3ea9036406852006290770BEdFcAbA0e23A0e8

# =============================================================================
# OPTIONAL FOR TESTING (Can skip initially)
# =============================================================================

# Stripe Configuration - OPTIONAL FOR TESTING
# For testing: Use mock cards (USE_MOCK_CARDS=true above)
# For production: Get real Stripe keys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe Webhooks - OPTIONAL (not needed for MVP)
# Only needed if you want async payment notifications
# Leave empty for testing - webhooks are NOT required
STRIPE_WEBHOOK_SECRET=

# Alternative Payment Processor - OPTIONAL
PAYSTACK_SECRET_KEY=sk_test_your_paystack_key

# =============================================================================
# AI CHECKOUT ANALYSIS - OPTIONAL
# =============================================================================
# Choose ONE of these (or skip AI entirely for testing)

# Option 1: OpenAI (paid, $0.002-0.05 per request)
OPENAI_API_KEY=

# Option 2: Groq (FREE, faster than OpenAI!)
GROQ_API_KEY=
# Get free key at: https://console.groq.com

# Which AI provider to use: "openai" or "groq" (default: groq if key exists)
AI_PROVIDER=groq

# =============================================================================
# DATABASE - OPTIONAL FOR MVP
# =============================================================================
# For MVP: Leave empty, will use in-memory storage
# For production: Set up PostgreSQL

# PostgreSQL - OPTIONAL (MVP uses in-memory)
DATABASE_URL=

# Redis - OPTIONAL (MVP uses in-memory rate limiting)
REDIS_URL=

# =============================================================================
# SECURITY - AUTO-GENERATED IF EMPTY
# =============================================================================
# Leave these empty - they'll be auto-generated on first run
# Or generate your own with: node scripts/generate-secrets.js

JWT_SECRET=
API_KEY_SALT=

# =============================================================================
# OPTIONAL SERVICES
# =============================================================================

# CORS - OPTIONAL (defaults to allowing extension)
ALLOWED_ORIGINS=chrome-extension://your-extension-id

# Error Tracking - OPTIONAL
# Get from: https://sentry.io (free tier available)
SENTRY_DSN=

# =============================================================================
# SUMMARY OF WHAT YOU NEED
# =============================================================================
#
# FOR LOCAL TESTING (MVP):
# ✅ RPC_URL (Alchemy free tier or local: http://127.0.0.1:8545)
# ✅ HOT_WALLET_ADDRESS + PRIVATE_KEY
# ✅ ESCROW_CONTRACT_ADDRESS + PYUSD_TOKEN_ADDRESS
# ✅ USE_MOCK_CARDS=true
# ❌ Everything else is optional
#
# FOR PRODUCTION:
# ✅ All of the above
# ✅ Real Stripe keys OR Paystack
# ✅ PostgreSQL (DATABASE_URL)
# ✅ Redis (REDIS_URL)
# ✅ JWT_SECRET + API_KEY_SALT (auto-generated)
# ✅ Sentry DSN (recommended)
# ✅ STRIPE_WEBHOOK_SECRET (if using webhooks)
#
# =============================================================================
